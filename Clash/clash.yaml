port: 7890 # HTTP ä»£ç†ç«¯å£
socks-port: 7891 # Socks ç«¯å£
redir-port: 7892 # Redir ç«¯å£
mixed-port: 7893 # æ··åˆç«¯å£
allow-lan: true # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*" # åœ°å€ç»‘å®š
mode: rule # è§„åˆ™æ¨¡å¼
log-level: info # æ—¥å¿—çº§åˆ«
ipv6: false # IPV6å¼€å…³
external-controller: 127.0.0.1:9090

dns:
  enable: true # ä¸ä½¿ç”¨ç³»ç»Ÿ DNS
  ipv6: false # å…³é—­ IPV6
  listen: 0.0.0.0:53 # dns ç›‘å¬
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - localhost.ptlogin2.qq.com
    - +.srv.nintendo.net
    - +.stun.playstation.net
    - +.msftconnecttest.com
    - +.msftncsi.com
    - +.xboxlive.com
    - msftconnecttest.com
    - xbox.*.microsoft.com
    - "*.battlenet.com.cn"
    - "*.battlenet.com"
    - "*.blzstatic.cn"
    - "*.battle.net"
  nameserver: # é»˜è®¤ DNS æœåŠ¡
    - 223.5.5.5
    - 119.29.29.29
  fallback: # å›½å¤– DNS æœåŠ¡å™¨
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
    - https://dns.alidns.com/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
#========= å»ºç«‹é”šç‚¹ =========#

# ç­–ç•¥ç»„å¼•ç”¨
pr:
  &a3 {
    type: select,
    proxies:
      [
        â™»ï¸ è‡ªåŠ¨é€‰æ‹©,
        ğŸš€ æ‰‹åŠ¨åˆ‡æ¢,
        ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,
        ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹,
        ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,
        ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹,
        ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹,
        ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹,
        ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹,
        ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹,
        ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹,
        ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,
        ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹,
        ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹,
        ğŸ‡®ğŸ‡³ å°åº¦èŠ‚ç‚¹,
        ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯èŠ‚ç‚¹,
        ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹,
        ğŸ‡®ğŸ‡ª çˆ±å°”å…°èŠ‚ç‚¹,
        ğŸ‡²ğŸ‡¾ é©¬æ¥è¥¿äºšèŠ‚ç‚¹,
        ğŸ‡¹ğŸ‡­ æ³°å›½èŠ‚ç‚¹,
        ğŸ‡¿ğŸ‡¦ å—éèŠ‚ç‚¹,
        DIRECT,
      ],
  }
p:
  &a1 {
    type: http,
    interval: 3600,
    health-check:
      {
        enable: true,
        url: http://www.gstatic.com/generate_204,
        interval: 1800,
      },
  }
auto:
  &a4 {
    type: url-test,
    lazy: true,
    url: http://www.gstatic.com/generate_204,
    interval: 900,
    use: [SSRDOG, XX-AI],
  }
use: &a2 { type: select, use: [SSRDOG, XX-AI] }
c: &a6 { type: http, behavior: classical, interval: 3600 }
d: &a5 { type: http, behavior: domain, interval: 3600 }
i: &a7 { type: http, behavior: ipcidr, interval: 3600 }

proxy-providers:
  SSRDOG:
    <<: *a1
    url: https://no1-svip.urlapi-dodo.me/s?t=da957f30f95dfebcfd2af0039a7b2896
    path: ./proxy_providers/subscribe1.yaml

  XX-AI:
    <<: *a1
    url: http://8.210.142.138:8899/s?token=c0c013daad3aad513ce8eb199d37e253
    path: ./proxy_providers/subscribe2.yaml

proxies: []
proxy-groups:
  # SSRDOG èŠ‚ç‚¹ç»„
  - name: SSRDOG
    type: select
    use: [SSRDOG]

  # XX-AI èŠ‚ç‚¹ç»„
  - name: XX-AI
    type: select
    use: [XX-AI]

  # æ‰‹åŠ¨åˆ‡æ¢ç»„
  - name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    proxies:
      - SSRDOG
      - XX-AI
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹
      - ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
      - ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
      - ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹
      - ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹
      - ğŸ‡®ğŸ‡³ å°åº¦èŠ‚ç‚¹
      - ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯èŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹
      - ğŸ‡®ğŸ‡ª çˆ±å°”å…°èŠ‚ç‚¹
      - ğŸ‡²ğŸ‡¾ é©¬æ¥è¥¿äºšèŠ‚ç‚¹
      - ğŸ‡¹ğŸ‡­ æ³°å›½èŠ‚ç‚¹
      - ğŸ‡¿ğŸ‡¦ å—éèŠ‚ç‚¹
      - DIRECT

  #åˆ†æµåˆ†ç»„
  - { name: ğŸŒ å…¨çƒåŠ é€Ÿ, <<: *a3 }
  - { name: ğŸ›¸ pikpak, <<: *a3 }
  - { name: ğŸ è‹¹æœæœåŠ¡, <<: *a3 }
  - { name: ğŸ“º å“”å“©å“”å“©, <<: *a3 }
  - {
      name: ğŸ¤– OpenAi,
      type: select,
      proxies: [ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹, ğŸš€ æ‰‹åŠ¨åˆ‡æ¢],
    }
  - {
      name: ğŸ›¸ Claude,
      type: select,
      proxies: [ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹, ğŸš€ æ‰‹åŠ¨åˆ‡æ¢],
    }
  - { name: ğŸ¬ å›½é™…åª’ä½“, <<: *a3 }
  - { name: ğŸŒŒ è°·æ­ŒæœåŠ¡, <<: *a3 }
  - { name: ğŸ“Ÿ ç”µæŠ¥æ¶ˆæ¯, <<: *a3 }
  - { name: ğŸ¦ æ¨ç‰¹æœåŠ¡, <<: *a3 }
  - { name: ğŸ® æ¸¸æˆå¹³å°, <<: *a3 }
  - { name: ğŸ† AdBlock, type: select, proxies: [REJECT, ğŸš€ æ‰‹åŠ¨åˆ‡æ¢] }
  - { name: ğŸŸ å…œåº•åˆ†æµ, <<: *a3 }

  #èŠ‚ç‚¹åˆ†ç»„
  - { name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, <<: *a4 }
  - { name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, <<: *a4, filter: "æ¸¯|HK|(?i)Hong" }
  - { name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, <<: *a4, filter: "å°|æ¹¾|TW|(?i)Taiwan" }
  - { name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, <<: *a4, filter: "æ—¥|ä¸œäº¬|JP|(?i)Japan" }
  - { name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, <<: *a4, filter: "éŸ©|KR|(?i)Korea" }
  - { name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, <<: *a4, filter: "ç¾|US|(?i)States|American" }
  - { name: ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹, <<: *a4, filter: "å¾·|DE|(?i)Germany" }
  - { name: ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹, <<: *a4, filter: "è‹±|UK|(?i)Kingdom|Britain" }
  - { name: ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹, <<: *a4, filter: "æ³•|FR|(?i)France" }
  - { name: ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹, <<: *a4, filter: "è·|NL|(?i)Netherlands" }
  - { name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, <<: *a4, filter: "å¡|SG|(?i)Singapore" }
  - { name: ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§èŠ‚ç‚¹, <<: *a4, filter: "æ‹¿|CA|(?i)Canada" }
  - { name: ğŸ‡»ğŸ‡³ è¶Šå—èŠ‚ç‚¹, <<: *a4, filter: "è¶Š|VN|(?i)Vietnam" }
  - { name: ğŸ‡®ğŸ‡³ å°åº¦èŠ‚ç‚¹, <<: *a4, filter: "(å°åº¦|IN|(?i)India)(?!å°¼è¥¿äºš)" }
  - { name: ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯èŠ‚ç‚¹, <<: *a4, filter: "ä¿„|RU|(?i)Russia" }
  - { name: ğŸ‡¹ğŸ‡· åœŸè€³å…¶èŠ‚ç‚¹, <<: *a4, filter: "åœŸ|TR|(?i)Turkey" }
  - { name: ğŸ‡®ğŸ‡ª çˆ±å°”å…°èŠ‚ç‚¹, <<: *a4, filter: "çˆ±|IE|(?i)Ireland" }
  - { name: ğŸ‡²ğŸ‡¾ é©¬æ¥è¥¿äºšèŠ‚ç‚¹, <<: *a4, filter: "é©¬æ¥è¥¿äºš|MY|(?i)Malaysia" }
  - { name: ğŸ‡¹ğŸ‡­ æ³°å›½èŠ‚ç‚¹, <<: *a4, filter: "æ³°å›½|TH|(?i)Thailand" }
  - { name: ğŸ‡¿ğŸ‡¦ å—éèŠ‚ç‚¹, <<: *a4, filter: "å—é|ZA|(?i)South Africa" }

# åˆ†æµè§„åˆ™
rule-providers:
  Direct:
    {
      <<: *a5,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Direct/Direct.yaml,
      path: ./ruleset/Direct.yaml,
    }
  Lan:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Lan/Lan.yaml,
      path: ./ruleset/Lan.yaml,
    }
  Download:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Download/Download.yaml,
      path: ./ruleset/Download.yaml,
    }
  Ad:
    {
      <<: *a5,
      url: https://ghp.ci/https://raw.githubusercontent.com/Cats-Team/AdRules/main/adrules_domainset.txt,
      path: ./ruleset/anti-ad-clash.yaml,
    }
  OpenAi:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI.yaml,
      path: ./ruleset/OpenAi.yaml,
    }
  Claude:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Claude/Claude.yaml,
      path: ./ruleset/Claude.yaml,
    }
  BiliBili:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/BiliBili/BiliBili.yaml,
      path: ./ruleset/BiliBili.yaml,
    }
  Bahamut:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Bahamut/Bahamut.yaml,
      path: ./ruleset/Bahamut.yaml,
    }
  GlobalMedia:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GlobalMedia/GlobalMedia_Classical.yaml,
      path: ./ruleset/GlobalMedia.yaml,
    }
  Apple:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple_Classical.yaml,
      path: ./ruleset/Apple.yaml,
    }
  Github:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.yaml,
      path: ./ruleset/Github.yaml,
    }
  Microsoft:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.yaml,
      path: ./ruleset/Microsoft.yaml,
    }
  Google:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google.yaml,
      path: ./ruleset/Google.yaml,
    }
  Telegram:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Telegram/Telegram.yaml,
      path: ./ruleset/Telegram.yaml,
    }
  Twitter:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Twitter/Twitter.yaml,
      path: ./ruleset/Twitter.yaml,
    }
  Game:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Game/Game.yaml,
      path: ./ruleset/Game.yaml,
    }
  ChinaIP:
    {
      <<: *a7,
      url: https://cdn.jsdelivr.net/gh/soffchen/GeoIP2-CN@release/clash-rule-provider.yml,
      path: ./ruleset/ChinaIP.yaml,
    }
  ProxyLite:
    {
      <<: *a6,
      url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/ProxyLite/ProxyLite.yaml,
      path: ./ruleset/ProxyLite.yaml,
    }

  # åˆ†æµPolicy
rules:
  - IP-CIDR,8.219.220.18/32,ğŸ›¸ pikpak
  - DOMAIN-KEYWORD,pikpak,ğŸ›¸ pikpak
  - RULE-SET,Direct,DIRECT
  - RULE-SET,Lan,DIRECT
  - RULE-SET,Download,DIRECT
  - RULE-SET,Ad,ğŸ† AdBlock
  - RULE-SET,OpenAi,ğŸ¤– OpenAi
  - RULE-SET,Claude,ğŸ›¸ Claude
  - RULE-SET,BiliBili,ğŸ“º å“”å“©å“”å“©
  - RULE-SET,Bahamut,ğŸ“º å“”å“©å“”å“©
  - RULE-SET,GlobalMedia,ğŸ¬ å›½é™…åª’ä½“
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Github,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Microsoft, ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Google,ğŸŒŒ è°·æ­ŒæœåŠ¡
  - RULE-SET,Telegram,ğŸ“Ÿ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,Twitter,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Game,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,ProxyLite,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,ChinaIP,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ å…œåº•åˆ†æµ
# TUNæ¨¡å¼æ˜¯é€šè¿‡åœ¨æ“ä½œç³»ç»Ÿä¸Šå®‰è£…ä¸€ä¸ªè™šæ‹Ÿç½‘å¡æ¥å®ç°çš„ï¼Œå®ƒå¯ä»¥æ¥ç®¡æ‰€æœ‰çš„ç½‘ç»œæµé‡ï¼Œå¹¶å°†æµé‡è½¬å‘è‡³Clashï¼Œç„¶åç”±Clashå‘å‡ºè¯·æ±‚
# Windows ç³»ç»Ÿä¸­å¦‚ä½•å¯ç”¨TUNæ¨¡å¼
# 1ã€è¿è¡Œ Clash For Windows, ç¡®ä¿ä½¿ç”¨è§„åˆ™æ¨¡å¼ï¼Œå¹¶å¯ä»¥è”ç½‘
# 2ã€ç‚¹å‡» Generalä¸­çš„Service Modeå³ä¾§çš„ManageæŒ‰é’®ï¼Œåœ¨å¼¹å‡ºçª—å£ä¸­é€‰æ‹©schtasksï¼Œå®‰è£…æœåŠ¡æ¨¡å¼ã€‚å®‰è£…å®Œæˆåï¼Œåº”ç”¨ç¨‹åºä¼šè‡ªåŠ¨é‡å¯ï¼ŒService Modeå³ä¾§çš„åœ°çƒå›¾æ ‡å˜ä¸ºç»¿è‰²è¡¨ç¤ºå®‰è£…æˆåŠŸ
# 3ã€ç‚¹å‡» Generalä¸­çš„TUN Modeå³ä¾§çš„å¼€å…³ä»¥å¯åŠ¨TUNæ¨¡å¼
